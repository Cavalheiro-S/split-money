echo "ğŸ” Executando verificaÃ§Ãµes prÃ©-push..."

# Verificar se hÃ¡ mudanÃ§as nÃ£o commitadas
if [ -n "$(git status --porcelain)" ]; then
  echo "âŒ Erro: HÃ¡ mudanÃ§as nÃ£o commitadas. FaÃ§a commit antes de fazer push."
  exit 1
fi

# Executar linting
echo "ğŸ“ Executando ESLint..."
npm run lint
if [ $? -ne 0 ]; then
  echo "âŒ Erro: ESLint encontrou problemas. Corrija-os antes de fazer push."
  exit 1
fi

# Verificar tipos TypeScript
echo "ğŸ”§ Verificando tipos TypeScript..."
npx tsc --noEmit
if [ $? -ne 0 ]; then
  echo "âŒ Erro: TypeScript encontrou erros de tipo. Corrija-os antes de fazer push."
  exit 1
fi

# Executar build para verificar se tudo compila
echo "ğŸ—ï¸ Executando build..."
npm run build
if [ $? -ne 0 ]; then
  echo "âŒ Erro: Build falhou. Corrija os problemas antes de fazer push."
  exit 1
fi

echo "âœ… Todas as verificaÃ§Ãµes passaram! Fazendo push..."
